(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3878:function(e,t,r){Promise.resolve().then(r.bind(r,1455))},1455:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Form}});var a=r(7437),s=r(2265);function ToggleButton(e){let{isUrl:t,value:r,handler:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[!t&&(0,a.jsxs)("span",{className:"ml-3 text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:["HTML",(0,a.jsx)("br",{}),"↓",(0,a.jsx)("br",{}),"MD"]}),(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:r,onClick:()=>s()}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600 relative"}),t?(0,a.jsx)("span",{className:"ml-3 text-xs font-medium text-gray-900 dark:text-gray-300 text-center",children:"URL"}):(0,a.jsxs)("span",{className:"ml-3 text-xs font-medium text-gray-600 dark:text-gray-300 text-center",children:["MD",(0,a.jsx)("br",{}),"↓",(0,a.jsx)("br",{}),"HTML"]})]})})}function PostButton(e){let{handler:t,isConverting:r}=e;return(0,a.jsx)("button",{className:"px-4 py-2 w-[64px] h-[48px] bg-blue-500 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 transition-colors",onClick:t,disabled:r,children:r?(0,a.jsxs)("div",{className:"flex justify-center","aria-label":"読み込み中",children:[(0,a.jsx)("div",{className:"animate-ping h-1 w-1 bg-gray-100 rounded-full flex-shrink-0"}),(0,a.jsx)("div",{className:"animate-ping h-1 w-1 bg-gray-100 rounded-full mx-2 flex-shrink-0"}),(0,a.jsx)("div",{className:"animate-ping h-1 w-1 bg-gray-100 rounded-full flex-shrink-0"})]}):(0,a.jsx)("span",{children:"変換"})})}function Form(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[i,d]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),handleUrl=e=>{o(e.target.value)},handleHtmlValue=e=>{t(e.target.value)},postUrl=async()=>{f(!0);let e=await fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n})}),t=await e.text();l(t),f(!1)},postHtmlValue=async()=>{f(!0);let t=await fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({htmlValue:e,isMdToHtml:i})}),r=await t.json();l(r),f(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-start mb-2",children:(0,a.jsx)(ToggleButton,{isUrl:!0,value:u,handler:()=>{c(e=>!e)}})}),(0,a.jsx)("div",{className:"w-full space-x-4 mb-4",children:u?(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("input",{type:"url",placeholder:"URLを入力",defaultValue:n,onChange:e=>handleUrl(e),className:"w-full flex-1 p-2 border border-gray-300 rounded mb-1"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"※Webページからの変換の場合は、必ずHTML → Markdownへの変換になります"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"※ページ読み込み、サーバー立ち上げなどで1分以上表示されないケースがあります"})]}):(0,a.jsx)("textarea",{placeholder:i?"Markdownを貼り付け":"HTMLを貼り付け",className:"w-full flex-1 p-2 border border-gray-300 rounded",value:e,onChange:e=>handleHtmlValue(e),rows:15})}),(0,a.jsx)("div",{className:"flex justify-around",children:u?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(PostButton,{handler:postUrl,isConverting:x})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ToggleButton,{isUrl:!1,value:i,handler:()=>{d(e=>!e)}}),(0,a.jsx)(PostButton,{handler:postHtmlValue,isConverting:x})]})}),(0,a.jsx)("div",{className:"flex items-start space-x-4 mt-4",children:(0,a.jsx)("textarea",{className:"flex-1 p-2 border border-gray-300 rounded",defaultValue:r,rows:15})})]})}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var a,l={},d=null,u=null;for(a in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,a)&&!i.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:s,type:e,key:d,ref:u,props:l,_owner:o.current}}t.Fragment=l,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=3878)}),_N_E=e.O()}]);